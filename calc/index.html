<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <title>RizeOffice Clac</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <link rel="stylesheet" href="style.css">
    </head>

    <body>

        <header>
            <p onclick="window.open('https://github.com/KajizukaTaichi/RizeOffice/')" style="font-size: 30px;">
                RizeOffice Clac - Built on Stack technology
            </p>
        </header>

        <div id="sheet"></div>

        <div class="stack">
            (sheet) get-element-by-id (sheet) var
            (table) create-element (table) var

            (tr) create-element (tr) var

            (td) create-element (td) var
            td tr append-child

            0 10 1 range (j) (
                (td) create-element (td) var
                j td set-inner-html
                td tr append-child
            ) for
            tr table append-child

            0 50 1 range (i) (
                (tr) create-element (tr) var

                (td) create-element (td) var
                i td set-inner-html
                td tr append-child 

                0 10 1 range (j) (
                    (td) create-element (td) var
                    (input) create-element (cell) var
                    [i j] (-) join cell set-id
                    cell td append-child 
                    td tr append-child    
                ) for
                tr table append-child
            ) for
            table sheet append-child
        </div> 

        <script>
            document.addEventListener("keydown", function(event) {
                if (event.code === "Enter") {
                    const inputs = document.querySelectorAll('input');
                    let program;

                 inputs.forEach(input => {
                        program +=`${input.value} ${input.id} var\n`;
                    });
                    document.activeElement.value = window.run_stack(`${program.replace("undefined", "")} ${document.activeElement.value} print`).output();
                }
            });
        </script>

        <script src="https://stack-community.github.io/stack.js" type="module"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    </body>
</html>